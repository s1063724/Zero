2025-02-03 00:00:46 [INF] Request starting HTTP/2 OPTIONS https://localhost:7007/api/users/forgot-password - null null
2025-02-03 00:00:47 [INF] CORS policy execution successful.
2025-02-03 00:00:47 [INF] Request finished HTTP/2 OPTIONS https://localhost:7007/api/users/forgot-password - 204 null null 9.786ms
2025-02-03 00:00:47 [INF] Request starting HTTP/2 POST https://localhost:7007/api/users/forgot-password - application/json 31
2025-02-03 00:00:47 [INF] CORS policy execution successful.
2025-02-03 00:00:47 [INF] Executing endpoint 'UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite)'
2025-02-03 00:00:47 [INF] Route matched with {action = "ForgotPassword", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(ForgotPasswordDto) on controller UserManagementAPI.Controllers.UsersController (ProductWebsite).
2025-02-03 00:00:47 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 00:00:47 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-02-03 00:00:47 [INF] 收到忘記密碼請求: ljps40301@gmail.com
2025-02-03 00:00:47 [INF] Executed DbCommand (5ms) [Parameters=[@__model_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[Password], [u].[ResetPasswordToken], [u].[ResetPasswordTokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-02-03 00:00:47 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ResetPasswordToken] = @p0, [ResetPasswordTokenExpires] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-03 00:00:47 [INF] 重設密碼連結: https://localhost:8080/reset-password?token=0533ab81-2d6f-4076-a800-dbf174361282
2025-02-03 00:00:49 [INF] 郵件已成功發送至 ljps40301@gmail.com
2025-02-03 00:01:01 [INF] 重設密碼郵件已發送: ljps40301@gmail.com
2025-02-03 00:01:01 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-03 00:01:01 [INF] Executed action UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite) in 14833.8587ms
2025-02-03 00:01:01 [INF] Executed endpoint 'UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite)'
2025-02-03 00:01:01 [INF] Request finished HTTP/2 POST https://localhost:7007/api/users/forgot-password - 200 null application/json; charset=utf-8 14858.5261ms
2025-02-03 00:04:19 [INF] Request starting HTTP/2 OPTIONS https://localhost:7007/api/users/forgot-password - null null
2025-02-03 00:04:19 [INF] CORS policy execution successful.
2025-02-03 00:04:19 [INF] Request finished HTTP/2 OPTIONS https://localhost:7007/api/users/forgot-password - 204 null null 6.1991ms
2025-02-03 00:04:19 [INF] Request starting HTTP/2 POST https://localhost:7007/api/users/forgot-password - application/json 31
2025-02-03 00:04:19 [INF] CORS policy execution successful.
2025-02-03 00:04:19 [INF] Executing endpoint 'UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite)'
2025-02-03 00:04:19 [INF] Route matched with {action = "ForgotPassword", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(ForgotPasswordDto) on controller UserManagementAPI.Controllers.UsersController (ProductWebsite).
2025-02-03 00:04:19 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 00:04:19 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-02-03 00:04:19 [INF] 收到忘記密碼請求: ljps40301@gmail.com
2025-02-03 00:04:19 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[Password], [u].[ResetPasswordToken], [u].[ResetPasswordTokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-02-03 00:04:19 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ResetPasswordToken] = @p0, [ResetPasswordTokenExpires] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-03 00:04:19 [INF] 重設密碼連結: https://localhost:8080/reset-password?token=439c6c50-7ede-4ac2-84f3-fe7045732046
2025-02-03 00:04:22 [INF] 郵件已成功發送至 ljps40301@gmail.com
2025-02-03 00:04:34 [INF] 重設密碼郵件已發送: ljps40301@gmail.com
2025-02-03 00:04:34 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-03 00:04:34 [INF] Executed action UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite) in 14992.3307ms
2025-02-03 00:04:34 [INF] Executed endpoint 'UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite)'
2025-02-03 00:04:34 [INF] Request finished HTTP/2 POST https://localhost:7007/api/users/forgot-password - 200 null application/json; charset=utf-8 15016.7717ms
2025-02-03 00:06:12 [INF] Application is shutting down...
2025-02-03 00:06:21 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 00:06:21 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-02-03 00:06:22 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 00:06:22 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-03 00:06:22 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-03 00:06:22 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-03 00:06:22 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 00:06:22 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-03 00:06:22 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-03 00:06:22 [INF] No migrations were applied. The database is already up to date.
2025-02-03 00:06:22 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-03 00:06:22 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-03 00:06:22 [WRN] The WebRootPath was not found: C:\Users\user\ProductWebsite\wwwroot. Static files may be unavailable.
2025-02-03 00:06:22 [WRN] Overriding address(es) 'http://localhost:5000'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-02-03 00:06:22 [INF] Now listening on: https://127.0.0.1:51069
2025-02-03 00:06:22 [INF] Now listening on: http://localhost:5000
2025-02-03 00:06:22 [INF] Now listening on: https://localhost:7007
2025-02-03 00:06:22 [INF] Application started. Press Ctrl+C to shut down.
2025-02-03 00:06:22 [INF] Hosting environment: Development
2025-02-03 00:06:22 [INF] Content root path: C:\Users\user\ProductWebsite
2025-02-03 00:06:22 [INF] 正在監聽: https://127.0.0.1:51069
2025-02-03 00:06:22 [INF] 正在監聽: http://localhost:5000
2025-02-03 00:06:22 [INF] 正在監聽: https://localhost:7007
2025-02-03 00:06:41 [INF] Request starting HTTP/2 OPTIONS https://localhost:7007/api/users/forgot-password - null null
2025-02-03 00:06:41 [INF] CORS policy execution successful.
2025-02-03 00:06:41 [INF] Request finished HTTP/2 OPTIONS https://localhost:7007/api/users/forgot-password - 204 null null 30.9972ms
2025-02-03 00:06:41 [INF] Request starting HTTP/2 POST https://localhost:7007/api/users/forgot-password - application/json 31
2025-02-03 00:06:41 [INF] CORS policy execution successful.
2025-02-03 00:06:41 [INF] Executing endpoint 'UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite)'
2025-02-03 00:06:41 [INF] Route matched with {action = "ForgotPassword", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(ForgotPasswordDto) on controller UserManagementAPI.Controllers.UsersController (ProductWebsite).
2025-02-03 00:06:41 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 00:06:41 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-02-03 00:06:41 [INF] 收到忘記密碼請求: ljps40301@gmail.com
2025-02-03 00:06:42 [INF] Executed DbCommand (22ms) [Parameters=[@__model_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[Password], [u].[ResetPasswordToken], [u].[ResetPasswordTokenExpires], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-02-03 00:06:42 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ResetPasswordToken] = @p0, [ResetPasswordTokenExpires] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-03 00:06:42 [INF] 重設密碼連結: http://localhost:8080/#/reset-password?token=ad302570-4aa5-45a9-83ad-f8c03c23bf63
2025-02-03 00:06:45 [INF] 郵件已成功發送至 ljps40301@gmail.com
2025-02-03 00:06:57 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-03 00:06:57 [INF] Executed action UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite) in 16214.0964ms
2025-02-03 00:06:57 [INF] Executed endpoint 'UserManagementAPI.Controllers.UsersController.ForgotPassword (ProductWebsite)'
2025-02-03 00:06:57 [INF] Request finished HTTP/2 POST https://localhost:7007/api/users/forgot-password - 200 null application/json; charset=utf-8 16289.3283ms
2025-02-03 00:32:01 [INF] Application is shutting down...
2025-02-03 20:35:42 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 20:35:42 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-02-03 20:35:42 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 20:35:42 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-03 20:35:42 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-03 20:35:42 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-03 20:35:42 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-03 20:35:42 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-03 20:35:42 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-03 20:35:42 [INF] No migrations were applied. The database is already up to date.
2025-02-03 20:35:42 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-03 20:35:42 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-03 20:35:43 [WRN] The WebRootPath was not found: C:\Users\user\ProductWebSite\backend\wwwroot. Static files may be unavailable.
2025-02-03 20:35:43 [WRN] Overriding address(es) 'http://localhost:5000'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-02-03 20:35:43 [INF] Now listening on: https://127.0.0.1:55006
2025-02-03 20:35:43 [INF] Now listening on: http://localhost:5000
2025-02-03 20:35:43 [INF] Now listening on: https://localhost:7007
2025-02-03 20:35:43 [INF] Application started. Press Ctrl+C to shut down.
2025-02-03 20:35:43 [INF] Hosting environment: Development
2025-02-03 20:35:43 [INF] Content root path: C:\Users\user\ProductWebSite\backend
2025-02-03 20:35:43 [INF] 正在監聽: https://127.0.0.1:55006
2025-02-03 20:35:43 [INF] 正在監聽: http://localhost:5000
2025-02-03 20:35:43 [INF] 正在監聽: https://localhost:7007
